rest-client.rememberCookiesForSubsequentRequests = true


@sid = CD0tUOp5L2W00KhWHJRZUeQ5wDskIC2NQbS4EmGq



### root path
GET http://localhost:3001/?param=1


### connection testing endpoint
GET http://localhost:3001/test/param1/param2?qs=1


### get jwt
GET http://localhost:3001/jwt/{{sid}}


### verify jwt
HEAD http://localhost:3001/jwt


### delete jwt
DELETE http://localhost:3001/jwt


### post subscription with jwt
POST http://localhost:3001/webhook/subscription/github/local
Content-Type: application/json

{
  "repository": "retzion/new_repo",
  "ref": "refs/heads/master"
}


### delete subscription with jwt
DELETE http://localhost:3001/webhook/subscription/github/local
Content-Type: application/json

{
  "repository": "retzion/new_repo",
  "ref": "refs/heads/master"
}


### webhook
POST http://localhost:3001/webhook/github
Content-Type: application/json
X-GitHub-Event: push

{"ref":"refs/heads/master","before":"9846d80f7fe3b79a0d8f62da4a8d8eff2d0be36d","after":"c8cdf27cc8d3dd9032c6bc80cd8f823c2c60ec7d","repository":{"id":263235364,"node_id":"MDEwOlJlcG9zaXRvcnkyNjMyMzUzNjQ=","name":"new_repo","full_name":"retzion/new_repo","private":false,"owner":{"name":"retzion","email":"retzion@gmail.com","login":"retzion","id":1813451,"node_id":"MDQ6VXNlcjE4MTM0NTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1813451?v=4","gravatar_id":"","url":"https://api.github.com/users/retzion","html_url":"https://github.com/retzion","followers_url":"https://api.github.com/users/retzion/followers","following_url":"https://api.github.com/users/retzion/following{/other_user}","gists_url":"https://api.github.com/users/retzion/gists{/gist_id}","starred_url":"https://api.github.com/users/retzion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/retzion/subscriptions","organizations_url":"https://api.github.com/users/retzion/orgs","repos_url":"https://api.github.com/users/retzion/repos","events_url":"https://api.github.com/users/retzion/events{/privacy}","received_events_url":"https://api.github.com/users/retzion/received_events","type":"User","site_admin":false},"html_url":"https://github.com/retzion/new_repo","description":null,"fork":false,"url":"https://github.com/retzion/new_repo","forks_url":"https://api.github.com/repos/retzion/new_repo/forks","keys_url":"https://api.github.com/repos/retzion/new_repo/keys{/key_id}","collaborators_url":"https://api.github.com/repos/retzion/new_repo/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/retzion/new_repo/teams","hooks_url":"https://api.github.com/repos/retzion/new_repo/hooks","issue_events_url":"https://api.github.com/repos/retzion/new_repo/issues/events{/number}","events_url":"https://api.github.com/repos/retzion/new_repo/events","assignees_url":"https://api.github.com/repos/retzion/new_repo/assignees{/user}","branches_url":"https://api.github.com/repos/retzion/new_repo/branches{/branch}","tags_url":"https://api.github.com/repos/retzion/new_repo/tags","blobs_url":"https://api.github.com/repos/retzion/new_repo/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/retzion/new_repo/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/retzion/new_repo/git/refs{/sha}","trees_url":"https://api.github.com/repos/retzion/new_repo/git/trees{/sha}","statuses_url":"https://api.github.com/repos/retzion/new_repo/statuses/{sha}","languages_url":"https://api.github.com/repos/retzion/new_repo/languages","stargazers_url":"https://api.github.com/repos/retzion/new_repo/stargazers","contributors_url":"https://api.github.com/repos/retzion/new_repo/contributors","subscribers_url":"https://api.github.com/repos/retzion/new_repo/subscribers","subscription_url":"https://api.github.com/repos/retzion/new_repo/subscription","commits_url":"https://api.github.com/repos/retzion/new_repo/commits{/sha}","git_commits_url":"https://api.github.com/repos/retzion/new_repo/git/commits{/sha}","comments_url":"https://api.github.com/repos/retzion/new_repo/comments{/number}","issue_comment_url":"https://api.github.com/repos/retzion/new_repo/issues/comments{/number}","contents_url":"https://api.github.com/repos/retzion/new_repo/contents/{+path}","compare_url":"https://api.github.com/repos/retzion/new_repo/compare/{base}...{head}","merges_url":"https://api.github.com/repos/retzion/new_repo/merges","archive_url":"https://api.github.com/repos/retzion/new_repo/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/retzion/new_repo/downloads","issues_url":"https://api.github.com/repos/retzion/new_repo/issues{/number}","pulls_url":"https://api.github.com/repos/retzion/new_repo/pulls{/number}","milestones_url":"https://api.github.com/repos/retzion/new_repo/milestones{/number}","notifications_url":"https://api.github.com/repos/retzion/new_repo/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/retzion/new_repo/labels{/name}","releases_url":"https://api.github.com/repos/retzion/new_repo/releases{/id}","deployments_url":"https://api.github.com/repos/retzion/new_repo/deployments","created_at":1589258982,"updated_at":"2020-05-13T17:59:38Z","pushed_at":1589404000,"git_url":"git://github.com/retzion/new_repo.git","ssh_url":"git@github.com:retzion/new_repo.git","clone_url":"https://github.com/retzion/new_repo.git","svn_url":"https://github.com/retzion/new_repo","homepage":null,"size":4,"stargazers_count":0,"watchers_count":0,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":null,"forks":0,"open_issues":0,"watchers":0,"default_branch":"master","stargazers":0,"master_branch":"master"},"pusher":{"name":"retzion","email":"retzion@gmail.com"},"sender":{"login":"retzion","id":1813451,"node_id":"MDQ6VXNlcjE4MTM0NTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1813451?v=4","gravatar_id":"","url":"https://api.github.com/users/retzion","html_url":"https://github.com/retzion","followers_url":"https://api.github.com/users/retzion/followers","following_url":"https://api.github.com/users/retzion/following{/other_user}","gists_url":"https://api.github.com/users/retzion/gists{/gist_id}","starred_url":"https://api.github.com/users/retzion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/retzion/subscriptions","organizations_url":"https://api.github.com/users/retzion/orgs","repos_url":"https://api.github.com/users/retzion/repos","events_url":"https://api.github.com/users/retzion/events{/privacy}","received_events_url":"https://api.github.com/users/retzion/received_events","type":"User","site_admin":false},"created":false,"deleted":false,"forced":false,"base_ref":null,"compare":"https://github.com/retzion/new_repo/compare/9846d80f7fe3...c8cdf27cc8d3","commits":[{"id":"c8cdf27cc8d3dd9032c6bc80cd8f823c2c60ec7d","tree_id":"036a044298597f4c90adc8e75c7178861d1ac054","distinct":true,"message":"update","timestamp":"2020-05-13T15:06:36-06:00","url":"https://github.com/retzion/new_repo/commit/c8cdf27cc8d3dd9032c6bc80cd8f823c2c60ec7d","author":{"name":"Reuven","email":"retzion@gmail.com","username":"retzion"},"committer":{"name":"Reuven","email":"retzion@gmail.com","username":"retzion"},"added":[],"removed":[],"modified":["README.md"]}],"head_commit":{"id":"c8cdf27cc8d3dd9032c6bc80cd8f823c2c60ec7d","tree_id":"036a044298597f4c90adc8e75c7178861d1ac054","distinct":true,"message":"update","timestamp":"2020-05-13T15:06:36-06:00","url":"https://github.com/retzion/new_repo/commit/c8cdf27cc8d3dd9032c6bc80cd8f823c2c60ec7d","author":{"name":"Reuven","email":"retzion@gmail.com","username":"retzion"},"committer":{"name":"Reuven","email":"retzion@gmail.com","username":"retzion"},"added":[],"removed":[],"modified":["README.md"]}}


### post results with jwt
POST http://localhost:3001/results/github/local
Content-Type: application/json

{"scan":{"webhookBody":{"ref":"refs/heads/master","before":"c84fdced86c5b495bd70fd43d4d83159f2dcdcc7","after":"bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe","repository":{"id":263235364,"node_id":"MDEwOlJlcG9zaXRvcnkyNjMyMzUzNjQ=","name":"new_repo","full_name":"retzion/new_repo","private":false,"owner":{"login":"retzion","id":1813451,"node_id":"MDQ6VXNlcjE4MTM0NTE=","avatar_url":"https://avatars3.githubusercontent.com/u/1813451?v=4","gravatar_id":"","url":"https://api.github.com/users/retzion","html_url":"https://github.com/retzion","followers_url":"https://api.github.com/users/retzion/followers","following_url":"https://api.github.com/users/retzion/following{/other_user}","gists_url":"https://api.github.com/users/retzion/gists{/gist_id}","starred_url":"https://api.github.com/users/retzion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/retzion/subscriptions","organizations_url":"https://api.github.com/users/retzion/orgs","repos_url":"https://api.github.com/users/retzion/repos","events_url":"https://api.github.com/users/retzion/events{/privacy}","received_events_url":"https://api.github.com/users/retzion/received_events","type":"User","site_admin":false},"html_url":"https://github.com/retzion/new_repo","description":null,"fork":false,"url":"https://api.github.com/repos/retzion/new_repo","forks_url":"https://api.github.com/repos/retzion/new_repo/forks","keys_url":"https://api.github.com/repos/retzion/new_repo/keys{/key_id}","collaborators_url":"https://api.github.com/repos/retzion/new_repo/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/retzion/new_repo/teams","hooks_url":"https://api.github.com/repos/retzion/new_repo/hooks","issue_events_url":"https://api.github.com/repos/retzion/new_repo/issues/events{/number}","events_url":"https://api.github.com/repos/retzion/new_repo/events","assignees_url":"https://api.github.com/repos/retzion/new_repo/assignees{/user}","branches_url":"https://api.github.com/repos/retzion/new_repo/branches{/branch}","tags_url":"https://api.github.com/repos/retzion/new_repo/tags","blobs_url":"https://api.github.com/repos/retzion/new_repo/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/retzion/new_repo/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/retzion/new_repo/git/refs{/sha}","trees_url":"https://api.github.com/repos/retzion/new_repo/git/trees{/sha}","statuses_url":"https://api.github.com/repos/retzion/new_repo/statuses/{sha}","languages_url":"https://api.github.com/repos/retzion/new_repo/languages","stargazers_url":"https://api.github.com/repos/retzion/new_repo/stargazers","contributors_url":"https://api.github.com/repos/retzion/new_repo/contributors","subscribers_url":"https://api.github.com/repos/retzion/new_repo/subscribers","subscription_url":"https://api.github.com/repos/retzion/new_repo/subscription","commits_url":"https://api.github.com/repos/retzion/new_repo/commits{/sha}","git_commits_url":"https://api.github.com/repos/retzion/new_repo/git/commits{/sha}","comments_url":"https://api.github.com/repos/retzion/new_repo/comments{/number}","issue_comment_url":"https://api.github.com/repos/retzion/new_repo/issues/comments{/number}","contents_url":"https://api.github.com/repos/retzion/new_repo/contents/{+path}","compare_url":"https://api.github.com/repos/retzion/new_repo/compare/{base}...{head}","merges_url":"https://api.github.com/repos/retzion/new_repo/merges","archive_url":"https://api.github.com/repos/retzion/new_repo/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/retzion/new_repo/downloads","issues_url":"https://api.github.com/repos/retzion/new_repo/issues{/number}","pulls_url":"https://api.github.com/repos/retzion/new_repo/pulls{/number}","milestones_url":"https://api.github.com/repos/retzion/new_repo/milestones{/number}","notifications_url":"https://api.github.com/repos/retzion/new_repo/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/retzion/new_repo/labels{/name}","releases_url":"https://api.github.com/repos/retzion/new_repo/releases{/id}","deployments_url":"https://api.github.com/repos/retzion/new_repo/deployments","created_at":"2020-05-12T04:49:42Z","updated_at":"2020-05-21T04:41:10Z","pushed_at":"2020-05-21T04:41:07Z","git_url":"git://github.com/retzion/new_repo.git","ssh_url":"git@github.com:retzion/new_repo.git","clone_url":"https://github.com/retzion/new_repo.git","svn_url":"https://github.com/retzion/new_repo","homepage":null,"size":11,"stargazers_count":0,"watchers_count":0,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":null,"forks":0,"open_issues":0,"watchers":0,"default_branch":"master","temp_clone_token":null,"network_count":0,"subscribers_count":1},"compare":"https://github.com/retzion/new_repo/compare/c84fdced86c5...bd653aa2d758","head_commit":{"sha":"bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe","node_id":"MDY6Q29tbWl0MjYzMjM1MzY0OmJkNjUzYWEyZDc1ODFiMTE3OGM2YzRkMWFhNWFjNjhmOTAwNjZkYmU=","commit":{"author":{"name":"Reuven Etzion","email":"retzion@gmail.com","date":"2020-05-21T04:41:07Z"},"committer":{"name":"GitHub","email":"noreply@github.com","date":"2020-05-21T04:41:07Z"},"message":"Update README.md","tree":{"sha":"6340afc0ea2c712d7a4613edea59c1a07dd5ea76","url":"https://api.github.com/repos/retzion/new_repo/git/trees/6340afc0ea2c712d7a4613edea59c1a07dd5ea76"},"url":"https://api.github.com/repos/retzion/new_repo/git/commits/bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe","comment_count":0,"verification":{"verified":true,"reason":"valid","signature":"-----BEGIN PGP SIGNATURE-----\n\nwsBcBAABCAAQBQJexgZjCRBK7hj4Ov3rIwAAdHIIAKBWiI51QDoFSYjAypo3C5DK\nwYlRXMKAR1I27LCXOKg57Cjg7J9JMYJqGtcNoGD6PSonh0eKqF9xpf2PchaG/lQy\n0RKcCc/pD0yfSh4Sb8DTtmUAF3ejsbiMqd03KDf9CZrc32vKxm05zMRbb15/o7u6\n3qIzZ+3P+xkra/0XBfOlnHFx/nt6CML3rp6ZrYRpLbmYe9f297snGudoxjP5jdA/\nlUo3Gt8+g7iwJMUgcQpWpn8qBZRclIirsqlDDHBrudeuK7MWk7D3bYE3u3jYpMUi\nRWp0vKdqsSotTGpR6/lO3EeGklgjs/70yn4WrK7ts9vxFJjPHjBl2X7sbNDr7u4=\n=OpbK\n-----END PGP SIGNATURE-----\n","payload":"tree 6340afc0ea2c712d7a4613edea59c1a07dd5ea76\nparent c84fdced86c5b495bd70fd43d4d83159f2dcdcc7\nauthor Reuven Etzion <retzion@gmail.com> 1590036067 -0600\ncommitter GitHub <noreply@github.com> 1590036067 -0600\n\nUpdate README.md"}},"url":"https://api.github.com/repos/retzion/new_repo/commits/bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe","html_url":"https://github.com/retzion/new_repo/commit/bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe","comments_url":"https://api.github.com/repos/retzion/new_repo/commits/bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe/comments","author":{"name":"Reuven Etzion","email":"retzion@gmail.com","date":"2020-05-21T04:41:07Z"},"committer":{"login":"web-flow","id":19864447,"node_id":"MDQ6VXNlcjE5ODY0NDQ3","avatar_url":"https://avatars3.githubusercontent.com/u/19864447?v=4","gravatar_id":"","url":"https://api.github.com/users/web-flow","html_url":"https://github.com/web-flow","followers_url":"https://api.github.com/users/web-flow/followers","following_url":"https://api.github.com/users/web-flow/following{/other_user}","gists_url":"https://api.github.com/users/web-flow/gists{/gist_id}","starred_url":"https://api.github.com/users/web-flow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/web-flow/subscriptions","organizations_url":"https://api.github.com/users/web-flow/orgs","repos_url":"https://api.github.com/users/web-flow/repos","events_url":"https://api.github.com/users/web-flow/events{/privacy}","received_events_url":"https://api.github.com/users/web-flow/received_events","type":"User","site_admin":false},"parents":[{"sha":"c84fdced86c5b495bd70fd43d4d83159f2dcdcc7","url":"https://api.github.com/repos/retzion/new_repo/commits/c84fdced86c5b495bd70fd43d4d83159f2dcdcc7","html_url":"https://github.com/retzion/new_repo/commit/c84fdced86c5b495bd70fd43d4d83159f2dcdcc7"}],"id":"bd653aa2d7581b1178c6c4d1aa5ac68f90066dbe","message":"Update README.md","timestamp":"2020-05-21T04:41:07Z","tree_id":"6340afc0ea2c712d7a4613edea59c1a07dd5ea76"}},"testResults":{"test_run":{"stlid":"ITuI1M7qI0BzLYxtdBcUxrT3G0mU6DwcPjiFeA3E","status_code":200,"status_msg":"COMPLETE","start":"2020-05-22 04:42:37.315680+00:00","end":"2020-05-22 04:42:39.222189+00:00","estimated_completion_time":"None","total_files":null,"percent_complete":100,"project":{"github_uri":"None","name":"retzion%2Fnew_repo%2Ftree%2Fmaster","languages":"None","option":"None","next_test_dir":"5MILWL6mvnjOrV4VKWbUyfHlsjMf57zDJVkLZ1rv"},"codes":[]},"test_run_result":[]},"tree":[{"path":"README.md","mode":"100644","type":"blob","sha":"e492b76353cce40fc9dee85418da8eb74c364937","size":52,"url":"https://api.github.com/repos/retzion/new_repo/git/blobs/e492b76353cce40fc9dee85418da8eb74c364937"},{"path":"blog_ex.py","mode":"100644","type":"blob","sha":"cf5b884a23cd33ec96e70e066d87c7c1a3dfd01c","size":375,"url":"https://api.github.com/repos/retzion/new_repo/git/blobs/cf5b884a23cd33ec96e70e066d87c7c1a3dfd01c"}]}}


### get subscriptions with jwt
GET http://localhost:3001/webhook/subscriptions/github/local
Content-Type: application/json


### get scan with jwt
GET http://localhost:3001/webhook/scan/github/5ed0b727a70390609d28bb59
Content-Type: application/json








